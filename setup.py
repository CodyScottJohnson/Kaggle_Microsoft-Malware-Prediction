import subprocess
import os, zipfile

#Download Competition Files
print('Downloading Files...')
subprocess.check_call(['kaggle','competitions','download','microsoft-malware-prediction','--path','data'])

#Unzip Files and Delete Zipped Files
print('Unzipping Data Files...')
for item in os.listdir('data'): # loop through items in dir 
    if item.endswith('.zip'): # check for ".zip" extension
        file_name = os.path.abspath('data/' + item) # get full path of files
        zip_ref = zipfile.ZipFile(file_name) # create zipfile object
        zip_ref.extractall('data') # extract file to dir
        zip_ref.close() # close file
        os.remove(file_name) # delete zipped file


